import{v as g,g as v,s as n,a as i,b as y,F as u}from"./q-vnukJ65a.js";import{l as F}from"./q-Y6E2TeAI.js";import"./q-izE8gtqG.js";import"./q-nQEjtDOf.js";const E=async(l,m)=>{const[c,f,s,p,b,o,d]=F();p||(s.response={}),s.submitCount++,s.submitted=!0,s.submitting=!0;try{if(await g(s,o)){const e=v(s,o),[r]=await Promise.all([d?void 0:c?.submit(f?new FormData(m):e),b?.(e,l)]);if(r?.value){const{errors:t,response:a}=r.value;n(s,t,{...o,shouldFocus:!1}),Object.keys(a).length?i(s,a,o):y(s,t,o)}}}catch(e){e instanceof u&&n(s,e.errors,{...o,shouldFocus:!1}),(!(e instanceof u)||e.message)&&i(s,{status:"error",message:e?.message||"An unknown error has occurred."},o)}finally{s.submitting=!1}};export{E as s_qmKnyqz75p4};
